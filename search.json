[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Methods in evolutionary ecology WS25/26",
    "section": "",
    "text": "About\nThis script covers the computational and bioinformatics parts of the module “Methods in Evolutionary Ecology”. We will introduce you to R and BASH, two of the most widely used scripting languages, and make you familiar with navigating in a UNIX environment. These skills are important for any biologist, irrespective of the field you may want to specialise in in the future. Building upon your new knowledge, we will learn how to reconstruct phylogenies from sequencing data, how to work with genomic data, and how to characterise microbiomes. At the end of three weeks computational work, you will tackle a small computational group project, putting your new skills into practise.\nThe script is designed to cover the entire course content. While we will go you through all of the material together in detail during the course, the script should also enable you to work through the content on your own, e.g., to recap after the course has finished and as a reference and starting point for future computational endeavours.",
    "crumbs": [
      "About"
    ]
  },
  {
    "objectID": "index.html#quarto",
    "href": "index.html#quarto",
    "title": "Methods in evolutionary ecology WS25/26",
    "section": "Quarto",
    "text": "Quarto\nThe text is formatted using Quarto, which comes with a number of benefits. It allows us to provide explanations as structured and nicely formatted regular text, and to include code blocks for all computational steps. When compiling Quarto documents, all of the code is run, which means that you not only see the code, but also the outputs it creates.\nHere is an example:\nThis little block of R code generates 100 random coordinates and plots them. The code is shown below, together with the output the code has produced (in this case, a plot).\n\nx &lt;- runif(100)\ny &lt;- runif(100)\nplot(x, y)\n\n\n\n\n\n\n\n\nThe code can conveniently be copied from the block into your own scripts.\nQuarto supports many formats, we here provide the script as a webpage and a printable pdf. Writing Quarto documents is very simple and can be done using RStudio as an editor. The entire script is available for you on github – feel free to download it and modify it with your own comments, notes, and code. We will provide a short introduction to github and Quarto in the course.",
    "crumbs": [
      "About"
    ]
  },
  {
    "objectID": "index.html#how-to-find-your-way-around",
    "href": "index.html#how-to-find-your-way-around",
    "title": "Methods in evolutionary ecology WS25/26",
    "section": "How to find your way around",
    "text": "How to find your way around\nSimply use the navigation on the left to quickly access the different topics, or flip through the individual pages using the buttons at the bottom of the page. You may wish to download the pdf version of the script (click the pdf icon in the top left) which is ideal for printing. The script is organized by topics, rather than course days, because we will adapt the tempo according to your needs.\n\nPlease note: The script will very likely only be complete at the end of the course. We will still be modifying and correcting it throughtout the three weeks you are with us. So make sure to check out the final version at the end of the course.",
    "crumbs": [
      "About"
    ]
  },
  {
    "objectID": "Rintro1.html",
    "href": "Rintro1.html",
    "title": "1  First steps",
    "section": "",
    "text": "1.1 Operators and functions\nR is a statistical programming environment that has become a standard tool in the data and life sciences and many other fields. You may have used R already to run some statistics in a course you took in your studies, and this will be a likely use case for your remaining degree. However, R is much more: it can be used to analyse massive the datasets of the “omics”- age, build webpages, blogs, and interactive apps, and even for art!\nBefore taking full advantage of what the various R packages have to offer, we need to become familiar with its basic structure and commands. It pays off to invest a little effort in practicing the basics, because all R packages use the same syntax – a solid familiarity with base R thus allows you to explore the entire R universe independently.\nR can be used just like an arithmetic calculator. You are familiar with all of the basic syntax already, if you know how to use a calculator!\nSome examples:\n3 + 4  \n\n[1] 7\n\n3 - 4  \n\n[1] -1\n\n3 * 4  \n\n[1] 12\n\n3 / 4  \n\n[1] 0.75\n\n3 ^ 4  # power of\n\n[1] 81\nAs with a regular calculator, there is operator precedence: power &gt; multiplicative operations &gt; additive operations:\n(1 + 2) * 3\n\n[1] 9\n\n2^3 * 3\n\n[1] 24\n\n2^(3 * 3)\n\n[1] 512\nSquare roots, exponentials, and logarithms also work just as with a calculator:\nsqrt(9) \n\n[1] 3\n\nexp(3) \n\n[1] 20.08554\n\nlog(3) \n\n[1] 1.098612\n\nlog(exp(3)) # natural logarithm\n\n[1] 3\n\nlog10(100)  # logarithm to base 10\n\n[1] 2\nIn order to “save” a value for use later on, you have to assign it to a variable! &lt;- is the assignment operator you need to use for this (handy shortcut in RStudio is ALT + -).\nx &lt;- 3 + 4\nCalling the variable will then print the result to the R console, and can be used in other calculations.\nx\n\n[1] 7\n\nx + 10\n\n[1] 17\nYou can call your variables whatever you want, but be careful: R will overwrite any variable if you tell it to, without a warning! You should also avoid giving your variables names that are already assigned to functions.\nmy_favourite_variable &lt;- 100\nmy_favourite_variable &lt;- 50\nmy_favourite_variable\n\n[1] 50\nAll variables (among other things) are visible in the environment panel in RStudio (default: top right part of the screen).",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>First steps</span>"
    ]
  },
  {
    "objectID": "Rintro1.html#operators-and-functions",
    "href": "Rintro1.html#operators-and-functions",
    "title": "1  First steps",
    "section": "",
    "text": "“=” can also be used to assign variables but is discouraged, because the direction of the assignment is not immediately obvious. It is best practise to always start with the variable, followed by the assignment operator",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>First steps</span>"
    ]
  },
  {
    "objectID": "Rintro1.html#data-types",
    "href": "Rintro1.html#data-types",
    "title": "1  First steps",
    "section": "1.2 Data types",
    "text": "1.2 Data types\nYou need to be familiar with at least three important data types in R: logical, numeric, and character. Data being stored in a different data type than required is one of the most frequent error messages you will encounter as an R beginner.\nlogical simply means true or false. R also understands the abbreviations T and F. To determine which types you data is in, you can use mode or class.\n\nvar1 &lt;- TRUE \nmode(var1)\n\n[1] \"logical\"\n\n\nnumeric means numbers\n\nvar2 &lt;- 10\nclass(10)\n\n[1] \"numeric\"\n\n\nA character is any form of text, a so called “string”. It must always be surrounded by quotation marks!\n\nvar3 &lt;- \"A so called string\"\nmode(var3)\n\n[1] \"character\"\n\n\nIf in doubt, R will often convert or read in data as characters. Watch out for some common errors!\n\nvar4 &lt;- \"5\"\nvar4\n\n[1] \"5\"\n\nis.numeric(var4)\n\n[1] FALSE\n\nvar5 &lt;- \"TRUE\"\nvar5\n\n[1] \"TRUE\"\n\nis.logical(var5)\n\n[1] FALSE\n\n\nYou can convert between types easily!\n\nvar6 &lt;- as.numeric(var4)\nvar6\n\n[1] 5\n\nclass(var6)\n\n[1] \"numeric\"",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>First steps</span>"
    ]
  },
  {
    "objectID": "Rintro1.html#exercises",
    "href": "Rintro1.html#exercises",
    "title": "1  First steps",
    "section": "1.3 Exercises",
    "text": "1.3 Exercises\n\nSum the values of 1 to 5\nCreate a variable v1 and assign it a character value\nCopy variable v1 to v2\nCompare the value of v1 against v2\n\n\n\n\n\n\n\nTipTip\n\n\n\nCompare values and variables using the following operators\n\n\n\n&lt;\nless than\n\n\n&lt;=\nless than or equal to\n\n\n&gt;\ngreater than\n\n\n&gt;=\ngreater than or equal to\n\n\n==\nequals\n\n\n!=\nnot equal\n\n\n\nPlease note, = and == do very different things! Don’t mix them up.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>First steps</span>"
    ]
  },
  {
    "objectID": "Rintro2.html",
    "href": "Rintro2.html",
    "title": "2  Data structures",
    "section": "",
    "text": "2.1 Vectors\nSo far we’ve only looked at simple variables consisting of a single value or character. Typically, your data will be more complex. In R, there are three structures relevant for the data you will be working with.\nA vector is a number of elements of the same data type (logical, numeric, character). It can be generated by concatenating the elements using the function c.\nvec1 &lt;- c(T, F, T, F)\nvec1\n\n[1]  TRUE FALSE  TRUE FALSE\n\nmode(vec1)\n\n[1] \"logical\"\n\nvec2 &lt;- c(1, 2, 3, 4, 5)\nvec2\n\n[1] 1 2 3 4 5\n\nmode(vec2)\n\n[1] \"numeric\"\n\nvec3 &lt;- c(\"Spring\", \"Summer\", \"Autumn\", \"Winter\")\nvec3\n\n[1] \"Spring\" \"Summer\" \"Autumn\" \"Winter\"\n\nmode(vec3)\n\n[1] \"character\"\nOther ways to generate vectors are rep and seq. rep is used to repeat any number of elements any number of times.\nrep(5, 10)\n\n [1] 5 5 5 5 5 5 5 5 5 5\n\nrep(vec3, 5)\n\n [1] \"Spring\" \"Summer\" \"Autumn\" \"Winter\" \"Spring\" \"Summer\" \"Autumn\" \"Winter\"\n [9] \"Spring\" \"Summer\" \"Autumn\" \"Winter\" \"Spring\" \"Summer\" \"Autumn\" \"Winter\"\n[17] \"Spring\" \"Summer\" \"Autumn\" \"Winter\"\nseq can be used to create numerical sequences.\nseq(from = 0, to = 100, by = 5)\n\n [1]   0   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90\n[20]  95 100\nThe command above is easy to read and understand for humans, which is good. R will also understand if you specify it as\nseq(0, 100, 5)\n\n [1]   0   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90\n[20]  95 100\nAs a shortcut for a common sequences, you can use\n1:10\n\n [1]  1  2  3  4  5  6  7  8  9 10\nAs mentioned above,, vectors can only combine elements of a single data type. Combining multiple different data types may result in some unwanted behaviour.\nvec_mix1 &lt;- c(5, TRUE, 65)\nmode(vec_mix1)\n\n[1] \"numeric\"\n\nvec_mix2 &lt;- c(\"blue\", TRUE, \"red\")\nmode(vec_mix2)\n\n[1] \"character\"\nIn many cases you may wish to access a single element of a vector. You can do so using square brackets.\nz &lt;- c(\"order\", \"family\", \"genus\", \"species\")\nz[2]\n\n[1] \"family\"\nSimilarly, you can access any combination of elements from the vector.\nz[1:2]\n\n[1] \"order\"  \"family\"\n\ni &lt;- c(1, 3)\nz[i]\n\n[1] \"order\" \"genus\"\n\nz[c(1, 1, 1, 4)]\n\n[1] \"order\"   \"order\"   \"order\"   \"species\"\n\nz[-1]\n\n[1] \"family\"  \"genus\"   \"species\"\nThe square brackets are also used if you need to change elements of the vector. Changes are made using the assignment operator which you already know.\nx &lt;- 1:5\nx\n\n[1] 1 2 3 4 5\n\nx[c(1, 4)] &lt;- 10\nx\n\n[1] 10  2  3 10  5\nWhich elements of a vector have certain characteristics? This is important for filtering/selecting in your dataset. You can combine different queries using logical operators.\nx &gt;= 5\n\n[1]  TRUE FALSE FALSE  TRUE  TRUE\n\nx[x &gt;= 5]\n\n[1] 10 10  5\n\nwhich(x &gt;= 5)\n\n[1] 1 4 5\n\nz\n\n[1] \"order\"   \"family\"  \"genus\"   \"species\"\n\nwhich(z == \"genus\")\n\n[1] 3\n\nz[z== \"genus\"]\n\n[1] \"genus\"\n\nz[z != \"genus\"]\n\n[1] \"order\"   \"family\"  \"species\"\n\nwhich(z== \"genus\" | z == \"order\")\n\n[1] 1 3\nLogical operators in R\nConveniently, the elements of a vector can be named and accessed using the names. Let’s first create a vector…\ndmel &lt;- c(\"Hexapoda\", \"Diptera\", \"Drosophilidae\", \"Drosophila\", \"Drosophila melanogaster\")\ndmel\n\n[1] \"Hexapoda\"                \"Diptera\"                \n[3] \"Drosophilidae\"           \"Drosophila\"             \n[5] \"Drosophila melanogaster\"\n… and then add names for each element\nnames(dmel) &lt;- c(\"Class\", \"Order\", \"Family\", \"Genus\", \"Species\")\ndmel\n\n                    Class                     Order                    Family \n               \"Hexapoda\"                 \"Diptera\"           \"Drosophilidae\" \n                    Genus                   Species \n             \"Drosophila\" \"Drosophila melanogaster\" \n\nstr(dmel)\n\n Named chr [1:5] \"Hexapoda\" \"Diptera\" \"Drosophilidae\" \"Drosophila\" ...\n - attr(*, \"names\")= chr [1:5] \"Class\" \"Order\" \"Family\" \"Genus\" ...\nNow we can use the names to access the values\ndmel[c(\"Class\", \"Species\")]\n\n                    Class                   Species \n               \"Hexapoda\" \"Drosophila melanogaster\" \n\ndmel[names(dmel) == \"Order\"]\n\n    Order \n\"Diptera\"",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data structures</span>"
    ]
  },
  {
    "objectID": "Rintro2.html#vectors",
    "href": "Rintro2.html#vectors",
    "title": "2  Data structures",
    "section": "",
    "text": "|\nOR\n\n\n&\nAND\n\n\n!\nNOT\n\n\n\n\n\n\n\n\n\n\n2.1.1 Exercises\n\nCreate a vector consecutively numbering all days of the year 2026. Assign the correct weekday names for all elements of the vector.\nUse the vector to determine how many days in 2026 are weekend days.\n\n\n\n\n\n\n\nTipTip\n\n\n\nIf you struggle to assign the correct names, have a look at the help for rep.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data structures</span>"
    ]
  },
  {
    "objectID": "Rintro2.html#matrices",
    "href": "Rintro2.html#matrices",
    "title": "2  Data structures",
    "section": "2.2 Matrices",
    "text": "2.2 Matrices\nA matrix in R can be thought of as a two-dimensional vector. All elements must be of the same data type. There are various ways to create a matrix. For example, one can use the matrix function like this.\n\nmat1 &lt;- matrix(data = 1:12, nrow = 3, ncol = 4, byrow=T) \nmat1\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    2    3    4\n[2,]    5    6    7    8\n[3,]    9   10   11   12\n\n\nAlternatively, a vector can be transformed into a matrix\n\nmat2 &lt;- 1:12\ndim(mat2) &lt;- c(3, 4)\nmat2\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n\n\nOften you will want to combine multiple vectors into a matrix\n\ndmel &lt;- c(\"Hexapoda\", \"Diptera\", \"Drosophilidae\", \"Drosophila\", \"Drosophila melanogaster\")\ndhyd &lt;- c(\"Hexapoda\", \"Diptera\", \"Drosophilidae\", \"Drosophila\", \"Drosophila hydei\")\nmat3 &lt;- cbind(dmel, dhyd)\nmat3\n\n     dmel                      dhyd              \n[1,] \"Hexapoda\"                \"Hexapoda\"        \n[2,] \"Diptera\"                 \"Diptera\"         \n[3,] \"Drosophilidae\"           \"Drosophilidae\"   \n[4,] \"Drosophila\"              \"Drosophila\"      \n[5,] \"Drosophila melanogaster\" \"Drosophila hydei\"\n\nmat4 &lt;- rbind(dmel, dhyd)\nmat4\n\n     [,1]       [,2]      [,3]            [,4]        \ndmel \"Hexapoda\" \"Diptera\" \"Drosophilidae\" \"Drosophila\"\ndhyd \"Hexapoda\" \"Diptera\" \"Drosophilidae\" \"Drosophila\"\n     [,5]                     \ndmel \"Drosophila melanogaster\"\ndhyd \"Drosophila hydei\"       \n\n\nJust like vectors, matrix elements can have names\n\nmat3\n\n     dmel                      dhyd              \n[1,] \"Hexapoda\"                \"Hexapoda\"        \n[2,] \"Diptera\"                 \"Diptera\"         \n[3,] \"Drosophilidae\"           \"Drosophilidae\"   \n[4,] \"Drosophila\"              \"Drosophila\"      \n[5,] \"Drosophila melanogaster\" \"Drosophila hydei\"\n\ncolnames(mat3)\n\n[1] \"dmel\" \"dhyd\"\n\nrownames(mat3) &lt;- c(\"Class\", \"Order\", \"Family\", \"Genus\", \"Species\")\nmat3\n\n        dmel                      dhyd              \nClass   \"Hexapoda\"                \"Hexapoda\"        \nOrder   \"Diptera\"                 \"Diptera\"         \nFamily  \"Drosophilidae\"           \"Drosophilidae\"   \nGenus   \"Drosophila\"              \"Drosophila\"      \nSpecies \"Drosophila melanogaster\" \"Drosophila hydei\"\n\n\nAnd just like with vectors, we can use square brackets to access and replace values. Because there are 2 dimensions, we need to provide 2 values (one for rows, one for columns, separated by ,).\n\nmat3\n\n        dmel                      dhyd              \nClass   \"Hexapoda\"                \"Hexapoda\"        \nOrder   \"Diptera\"                 \"Diptera\"         \nFamily  \"Drosophilidae\"           \"Drosophilidae\"   \nGenus   \"Drosophila\"              \"Drosophila\"      \nSpecies \"Drosophila melanogaster\" \"Drosophila hydei\"\n\nmat3[1:3, 2]\n\n          Class           Order          Family \n     \"Hexapoda\"       \"Diptera\" \"Drosophilidae\" \n\nmat3[1:3, ]\n\n       dmel            dhyd           \nClass  \"Hexapoda\"      \"Hexapoda\"     \nOrder  \"Diptera\"       \"Diptera\"      \nFamily \"Drosophilidae\" \"Drosophilidae\"\n\nmat3[c(\"Class\", \"Species\"), ]\n\n        dmel                      dhyd              \nClass   \"Hexapoda\"                \"Hexapoda\"        \nSpecies \"Drosophila melanogaster\" \"Drosophila hydei\"\n\n\n\n2.2.1 Exercise\n\ncreate a matrix using with 20 rows & 5 columns, using 100 randomly generated numbers between 0 and 1000.\nreplace all values in the 3rd column of this matrix that are larger than 500 with NA.\n\n\n\n\n\n\n\nTipTip\n\n\n\nuse the function runif to create random values",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data structures</span>"
    ]
  },
  {
    "objectID": "Rintro2.html#data-frames",
    "href": "Rintro2.html#data-frames",
    "title": "2  Data structures",
    "section": "2.3 Data frames",
    "text": "2.3 Data frames\nData frames are the R equivalent of spread sheets. Like matrices, they are two-dimensional, however they may combine different data types. Most biological data sets you will encounter will be data frames.\nLets create a data frame\n\n# create some data\nspecies &lt;- rep(c(\"beech\",\"ash\",\"elm\",\"maple\", \"sycamore\"),40)\nspecies\n\n  [1] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n  [7] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [13] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [19] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [25] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [31] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [37] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [43] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [49] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [55] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [61] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [67] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [73] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [79] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [85] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [91] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [97] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[103] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[109] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[115] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[121] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[127] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[133] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[139] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[145] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[151] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[157] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[163] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[169] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[175] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[181] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[187] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[193] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[199] \"maple\"    \"sycamore\"\n\ndbh &lt;- runif(200, 5, 40)\ndbh\n\n  [1] 33.900853 23.489752 18.455023 16.756070 12.260955 26.702643 11.511557\n  [8]  9.805382 20.749729 38.889086 18.761859 37.240525 24.859179 15.057069\n [15] 21.758995 25.354815 25.158371 12.736233 22.729075 18.703743 21.269991\n [22] 10.771644 33.940217 39.866328 12.832942 17.276794 21.665345 30.145992\n [29] 22.740987  8.959746 37.890097  5.424714  6.326134 35.054298 39.837947\n [36]  5.889975 16.118138 20.758678 39.448954 21.122776 39.488986  6.250799\n [43] 38.269801 39.771686 30.896858 18.665926 18.725367 22.282116 29.297928\n [50]  6.859602 38.370159 13.880960 16.308321 32.564090  9.274133 22.375909\n [57] 16.751214 35.218454 29.268806 11.337594 37.430769 38.190853 16.368406\n [64] 11.626329 15.038394  8.527344 29.121659 35.371431 30.382369 33.756024\n [71] 11.593584 17.695909 11.944545 10.798344  8.704842 15.337345 20.647993\n [78]  7.030684 36.200781 33.657791 17.153886 10.241760  9.983855 11.188511\n [85] 11.777668 38.469101 27.654604 10.399590 35.655939 23.743299 11.231902\n [92] 11.272298 21.626001  8.857529 20.363021  7.736713 37.812513 26.034547\n [99] 17.179305 32.153083 13.080767 12.337900 15.882196 13.221891 37.201816\n[106]  5.673924 13.620077 29.094624 10.085060 37.476436 16.655497 38.082316\n[113] 31.406346  7.287614  7.188017 25.047274  7.016702 16.816597 26.283349\n[120] 39.255144 39.986054 26.765997 23.100815 24.271250 30.580674 33.331416\n[127] 13.306564 36.712943  9.284302 16.715981  8.672988 28.243427 38.763381\n[134] 20.165444  8.284283 26.642137 27.034549 29.066825  9.951456 16.197035\n[141] 24.447014 22.708735 23.020812  7.257961  5.233005 20.306004  7.871249\n[148] 23.278688 29.349559 38.368705 31.976808 26.020331 21.726073 37.124958\n[155] 36.247175 16.783217 28.040240 18.455405 11.656245 29.917082 24.147584\n[162] 14.199307 36.440452 24.349004 37.053363  8.927604 38.133153 24.250447\n[169] 38.289966  6.402707 24.707490  5.866187 34.946416 37.623551 20.193069\n[176] 20.731611 17.783621 23.755180 12.316781 16.442806 37.278353 15.163038\n[183] 37.669051 20.201870 20.298989  8.738897 33.975661 19.664262 20.439028\n[190]  5.500485  7.713015 33.950533 20.832991 28.565944 19.439880 37.739611\n[197] 38.259368 36.840810 11.504078 13.179258\n\nage &lt;- as.integer(runif(200, 20, 120))\nage\n\n  [1]  27  20  28  87 118 105  93  52  69  31  38  27  63  86  71 103  54  79\n [19]  41  67 110  97  85  48 111  79  68 112  62  79  46  74 103  55  96  30\n [37]  87  95  30  34  32  31 103  40 110  78  65  73 116  50  72  80  82 105\n [55]  20  66  42  51 101  27  78  98  21 103  68  74  62 118  20  20  90 110\n [73]  23  74  39  32  67  87  23 117 109 106  79  50  57  26  61  67 119  68\n [91]  36 100  75  22 102  24  45  89 104 112  92  32  98  78 104  62  59  48\n[109]  30  81  68  33  39  35  99  53 106  52 103 116  94  64  84 106  83  62\n[127]  51  42  50  59  83  66 110  87  73  47  37  79  97  90  60  83  60  73\n[145]  57  53  57  38  50  44 100  29 101 113  82  57  90  82 108  55  72  46\n[163]  30  64  88  81  39  67  43 113  84  77  65  50  84  39  32  73  82 118\n[181] 118  44  98 110  46 104  75  77  78  67  54 113 105  80  79 105 110  62\n[199]  84 109\n\ndf1 &lt;- data.frame(species, dbh, age)\ndf1\n\n\n  \n\n\n\nTo access values, we can use the same approaches as for matrices:\n\ndf1[1:12, 1:2]\n\n\n  \n\n\n\nbut can also access and filter the columns directly using their names like this:\n\ndf1$species\n\n  [1] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n  [7] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [13] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [19] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [25] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [31] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [37] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [43] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [49] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [55] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [61] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [67] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n [73] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n [79] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n [85] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n [91] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n [97] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[103] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[109] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[115] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[121] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[127] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[133] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[139] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[145] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[151] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[157] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[163] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[169] \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"   \n[175] \"sycamore\" \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\"\n[181] \"beech\"    \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"   \n[187] \"ash\"      \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"     \n[193] \"elm\"      \"maple\"    \"sycamore\" \"beech\"    \"ash\"      \"elm\"     \n[199] \"maple\"    \"sycamore\"\n\ndf1[df1$dbh &gt; 15, ]\n\n\n  \n\n\n\n\n2.3.1 Exercise\n\nUsing df1, select only entries corresponding to ash and maple with an age over 50 and a diameter less than 30.\nAdd a new column to the dataframe called “year”. Generate data for this column so that there are 10 different years and the same number of entries for each tree species per year.\n\n\n\n\n\n\n\nTipTip\n\n\n\nUse the function rep for this exercise",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data structures</span>"
    ]
  },
  {
    "objectID": "Rintro3.html",
    "href": "Rintro3.html",
    "title": "3  Data, packages, and some more functions",
    "section": "",
    "text": "3.1 Setting up your working environment\nUsually when working in R, you want to look at your own data, and not generate it from random distributions. To read in a data file, we first need to tell R where the working directory is located.\nsetwd(\"/home/of22haqi/Documents/TEACHING/MEE-WS25-26/\")\nThe path will look different on your machine of course.\nNow that R knows where to find it, we are ready to read in a data file.\n# The table contains headers, and the fields are separated by commas\nbe &lt;-  read.table(\"data/butterfly_ecology.csv\", header = TRUE, sep = \",\")\n\n# Let's have a glimpse at the data \nhead(be)\nIn order to save your entire working environment, so you don’t have to re-run potentially time intensive pieces of your code, just save it and load it back into your work space the next time you use R.\nsave.image(\"myenv.Rdata\")\nYou can also use the panel “Environment” in RStudio to save and load your data.\nAll of the functions we used today are so “base R” functions, which means they come preinstalled with R. Lots of the functionality of R is in external packages which need to be installed manually. The majority of relevant packages are found on CRAN (The Comprehensive R Archive Network), and there is a special archive for packages relevant to the life sciences (Bioconductor). In order to install packages from CRAN, simply run\ninstall.packages(\"tidyverse\", dependencies = TRUE)\nHere, tidyverse is the package we want to install we ask to also install any packages that tidyverse may require to function. You can find a list of all packages currently installed in the packages tab in the panel on the bottom left in RStudio. It is good practise to keep the packages, as well as your R installation up to date.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "Rintro3.html#setting-up-your-working-environment",
    "href": "Rintro3.html#setting-up-your-working-environment",
    "title": "3  Data, packages, and some more functions",
    "section": "",
    "text": "Use a text editor outside of Rstudio to look at the data file as well. Why do you think this is a good format to store data in? WHat is the advantage to e.g., an Excel file? What does using a text file format mean for your data entry requirements?",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "Rintro3.html#functions",
    "href": "Rintro3.html#functions",
    "title": "3  Data, packages, and some more functions",
    "section": "3.2 Functions",
    "text": "3.2 Functions\nWe have already used plenty of functions. Most of them require at least an object an which to perform the function on, and may also have some options. For example, consider the following function:\n\nmean(be$range.size, na.rm = TRUE)\n\n[1] 261.4116\n\n\nmean is the function, be$range.size is the object (1 vector from the dataframe we just read into R) and na.rm = TRUE is the option to remove NAs from the vector before calculating the mean.\nIn some cases, you may want to do things to your data that cannot be addressed by a single function. In this case, you may have to perform a number of different operations on the dataset. If you are likely to use the same set of operations in the future, it may be advisable to use your own functions.\nA very simple example. Let’s assume the mean function didn’t exist and we would need to write our own.\n\nmean2 &lt;- function(x){\n  x &lt;- na.omit(x)\n  sum(x) / length(x) \n}\n\nmean2(be$range.size)\n\n[1] 261.4116\n\n\nWe define mean2 as a function that requires an object (here called x as an input). Looking into the function, we can see that it first removes the NAs from the object and next calculates the sum of x divided by the number of elements of x (this is how the mean is defined). Testing it, we can see that it gives the same result as the native mean function.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "Rintro3.html#loops",
    "href": "Rintro3.html#loops",
    "title": "3  Data, packages, and some more functions",
    "section": "3.3 Loops",
    "text": "3.3 Loops\nIn many cases, we need to apply a function t a number of elements. In this case, loops come in handy. In the simple examples below, the structure of a for loop is illustrated.\n\nfor(i in 1:10) # how often is the loop repeated\n{\n   print(i)    # what is to be done each iteration\n}\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7\n[1] 8\n[1] 9\n[1] 10\n\nj&lt;-0\nfor(i in 1:5)\n{\n   j&lt;-i+j\n   print(j)\n}\n\n[1] 1\n[1] 3\n[1] 6\n[1] 10\n[1] 15\n\n\nObserve and try to explain what happens in each iteration to the variables used in these examples.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "Rintro3.html#plots",
    "href": "Rintro3.html#plots",
    "title": "3  Data, packages, and some more functions",
    "section": "3.4 Plots",
    "text": "3.4 Plots\nFor many use cases ggplot2 is the best approach of plotting, and we will get to know this package later. However, for very simple and quick plots, base R plotting functions are sufficient and superior to othe options because of simplicity and speed.\nScatter plots can be created by just naming the variables to be plotted against each other.\n\nplot(be$WSP_Female_average, be$ALT_Range)\n\n\n\n\n\n\n\n\nHistograms showing frequency distributions are also very easily generated\n\nhist(be$WSP_Female_average)",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "Rintro3.html#exercises",
    "href": "Rintro3.html#exercises",
    "title": "3  Data, packages, and some more functions",
    "section": "3.5 Exercises",
    "text": "3.5 Exercises\n\nUsing a loop, plot histograms for the columns “WSP_Female_average”, “Alt_Range”, “Alt_min”, and “range.size”.\nWrite a function that creates these plots with only the dataframe as argument.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Data, packages, and some more functions</span>"
    ]
  },
  {
    "objectID": "tidyverse.html",
    "href": "tidyverse.html",
    "title": "4  Tidyverse",
    "section": "",
    "text": "4.1 What is the tidyverse?\nWe will only be looking at a couple of functions from a 2 packages (dplyr & ggplot2). All functions are about data manipulation and visualisation and are especially well suited for exploring very large data sets.\nYou can install all tidyverse packages by running\ninstall.packages(\"tidyverse\", dependencies = TRUE)\n\n# Downloading packages -------------------------------------------------------\n- Downloading tidyverse from CRAN ...           OK [688.1 Kb]\n- Downloading broom from CRAN ...               OK [498.3 Kb]\n- Downloading backports from CRAN ...           OK [30 Kb]\n- Downloading dplyr from CRAN ...               OK [1.2 Mb]\n- Downloading generics from CRAN ...            OK [46.1 Kb]\n- Downloading magrittr from CRAN ...            OK [275.2 Kb]\n- Downloading pillar from CRAN ...              OK [399.9 Kb]\n- Downloading utf8 from CRAN ...                OK [238.1 Kb]\n- Downloading vctrs from CRAN ...               OK [946.4 Kb]\n- Downloading tibble from CRAN ...              OK [544.1 Kb]\n- Downloading pkgconfig from CRAN ...           OK [5.9 Kb]\n- Downloading tidyselect from CRAN ...          OK [101.2 Kb]\n- Downloading withr from CRAN ...               OK [100.8 Kb]\n- Downloading purrr from CRAN ...               OK [271.8 Kb]\n- Downloading stringr from CRAN ...             OK [191.2 Kb]\n- Downloading stringi from CRAN ...             OK [11.4 Mb in 0.11s]\n- Downloading tidyr from CRAN ...               OK [790.1 Kb]\n- Downloading cpp11 from CRAN ...               OK [285.1 Kb]\n- Downloading conflicted from CRAN ...          OK [16.7 Kb]\n- Downloading dbplyr from CRAN ...              OK [540.7 Kb]\n- Downloading blob from CRAN ...                OK [10.4 Kb]\n- Downloading DBI from CRAN ...                 OK [1.1 Mb]\n- Downloading dtplyr from CRAN ...              OK [195.6 Kb]\n- Downloading data.table from CRAN ...          OK [5.7 Mb]\n- Downloading forcats from CRAN ...             OK [287.7 Kb]\n- Downloading ggplot2 from CRAN ...             OK [6 Mb in 0.1s]\n- Downloading gtable from CRAN ...              OK [144.7 Kb]\n- Downloading isoband from CRAN ...             OK [1.5 Mb]\n- Downloading S7 from CRAN ...                  OK [179.8 Kb]\n- Downloading scales from CRAN ...              OK [321 Kb]\n- Downloading farver from CRAN ...              OK [1.2 Mb]\n- Downloading labeling from CRAN ...            OK [9.9 Kb]\n- Downloading RColorBrewer from CRAN ...        OK [11.4 Kb]\n- Downloading viridisLite from CRAN ...         OK [1.2 Mb]\n- Downloading googledrive from CRAN ...         OK [1.5 Mb]\n- Downloading gargle from CRAN ...              OK [462 Kb]\n- Downloading httr from CRAN ...                OK [115.7 Kb]\n- Downloading curl from CRAN ...                OK [714 Kb]\n- Downloading openssl from CRAN ...             OK [1.2 Mb]\n- Downloading askpass from CRAN ...             OK [5.9 Kb]\n- Downloading sys from CRAN ...                 OK [19.5 Kb]\n- Downloading uuid from CRAN ...                OK [78.8 Kb]\n- Downloading googlesheets4 from CRAN ...       OK [225.9 Kb]\n- Downloading cellranger from CRAN ...          OK [62.4 Kb]\n- Downloading rematch from CRAN ...             OK [4.7 Kb]\n- Downloading ids from CRAN ...                 OK [89.1 Kb]\n- Downloading rematch2 from CRAN ...            OK [13.1 Kb]\n- Downloading haven from CRAN ...               OK [309.5 Kb]\n- Downloading hms from CRAN ...                 OK [43.7 Kb]\n- Downloading readr from CRAN ...               OK [292.2 Kb]\n- Downloading clipr from CRAN ...               OK [21.4 Kb]\n- Downloading crayon from CRAN ...              OK [39.4 Kb]\n- Downloading vroom from CRAN ...               OK [613.4 Kb]\n- Downloading bit64 from CRAN ...               OK [138.7 Kb]\n- Downloading bit from CRAN ...                 OK [297.4 Kb]\n- Downloading tzdb from CRAN ...                OK [586.6 Kb]\n- Downloading progress from CRAN ...            OK [29.8 Kb]\n- Downloading prettyunits from CRAN ...         OK [95.2 Kb]\n- Downloading lubridate from CRAN ...           OK [419.3 Kb]\n- Downloading timechange from CRAN ...          OK [101 Kb]\n- Downloading modelr from CRAN ...              OK [118.6 Kb]\n- Downloading ragg from CRAN ...                OK [426.7 Kb]\n- Downloading systemfonts from CRAN ...         OK [579.4 Kb]\n- Downloading textshaping from CRAN ...         OK [74.9 Kb]\n- Downloading readxl from CRAN ...              OK [1.6 Mb]\n- Downloading reprex from CRAN ...              OK [1 Mb]\n- Downloading callr from CRAN ...               OK [101.9 Kb]\n- Downloading processx from CRAN ...            OK [161.3 Kb]\n- Downloading ps from CRAN ...                  OK [164 Kb]\n- Downloading rstudioapi from CRAN ...          OK [115.7 Kb]\n- Downloading rvest from CRAN ...               OK [118.9 Kb]\n- Downloading selectr from CRAN ...             OK [53.9 Kb]\n- Downloading xml2 from CRAN ...                OK [151 Kb]\n- Downloading covr from CRAN ...                OK [169.7 Kb]\n- Downloading rex from CRAN ...                 OK [91.4 Kb]\n- Downloading lazyeval from CRAN ...            OK [81.5 Kb]\n- Downloading feather from CRAN ...             OK [8.3 Kb]\n- Downloading arrow from CRAN ...               OK [4 Mb]\n- Downloading assertthat from CRAN ...          OK [12.4 Kb]\n- Downloading mockr from CRAN ...               OK [20.4 Kb]\n- Downloading testthat from CRAN ...            OK [814.5 Kb]\n- Downloading brio from CRAN ...                OK [12.9 Kb]\n- Downloading desc from CRAN ...                OK [78.2 Kb]\n- Downloading pkgload from CRAN ...             OK [85.5 Kb]\n- Downloading pkgbuild from CRAN ...            OK [50.1 Kb]\n- Downloading rprojroot from CRAN ...           OK [58.5 Kb]\n- Downloading praise from CRAN ...              OK [6 Kb]\n- Downloading waldo from CRAN ...               OK [44.8 Kb]\n- Downloading diffobj from CRAN ...             OK [461.9 Kb]\nSuccessfully downloaded 89 packages in 19 seconds.\n\nThe following package(s) will be installed:\n- arrow         [22.0.0.1]\n- askpass       [1.2.1]\n- assertthat    [0.2.1]\n- backports     [1.5.0]\n- bit           [4.6.0]\n- bit64         [4.6.0-1]\n- blob          [1.2.4]\n- brio          [1.1.5]\n- broom         [1.0.11]\n- callr         [3.7.6]\n- cellranger    [1.1.0]\n- clipr         [0.8.0]\n- conflicted    [1.2.0]\n- covr          [3.6.5]\n- cpp11         [0.5.2]\n- crayon        [1.5.3]\n- curl          [7.0.0]\n- data.table    [1.18.0]\n- DBI           [1.2.3]\n- dbplyr        [2.5.1]\n- desc          [1.4.3]\n- diffobj       [0.3.6]\n- dplyr         [1.1.4]\n- dtplyr        [1.3.2]\n- farver        [2.1.2]\n- feather       [0.4.0]\n- forcats       [1.0.1]\n- gargle        [1.6.0]\n- generics      [0.1.4]\n- ggplot2       [4.0.1]\n- googledrive   [2.1.2]\n- googlesheets4 [1.1.2]\n- gtable        [0.3.6]\n- haven         [2.5.5]\n- hms           [1.1.4]\n- httr          [1.4.7]\n- ids           [1.0.1]\n- isoband       [0.3.0]\n- labeling      [0.4.3]\n- lazyeval      [0.2.2]\n- lubridate     [1.9.4]\n- magrittr      [2.0.4]\n- mockr         [0.2.2]\n- modelr        [0.1.11]\n- openssl       [2.3.4]\n- pillar        [1.11.1]\n- pkgbuild      [1.4.8]\n- pkgconfig     [2.0.3]\n- pkgload       [1.4.1]\n- praise        [1.0.0]\n- prettyunits   [1.2.0]\n- processx      [3.8.6]\n- progress      [1.2.3]\n- ps            [1.9.1]\n- purrr         [1.2.1]\n- ragg          [1.5.0]\n- RColorBrewer  [1.1-3]\n- readr         [2.1.6]\n- readxl        [1.4.5]\n- rematch       [2.0.0]\n- rematch2      [2.1.2]\n- reprex        [2.1.1]\n- rex           [1.2.1]\n- rprojroot     [2.1.1]\n- rstudioapi    [0.17.1]\n- rvest         [1.0.5]\n- S7            [0.2.1]\n- scales        [1.4.0]\n- selectr       [0.5-1]\n- stringi       [1.8.7]\n- stringr       [1.6.0]\n- sys           [3.4.3]\n- systemfonts   [1.3.1]\n- testthat      [3.3.2]\n- textshaping   [1.0.4]\n- tibble        [3.3.1]\n- tidyr         [1.3.2]\n- tidyselect    [1.2.1]\n- tidyverse     [2.0.0]\n- timechange    [0.3.0]\n- tzdb          [0.5.0]\n- utf8          [1.2.6]\n- uuid          [1.2-1]\n- vctrs         [0.6.5]\n- viridisLite   [0.4.2]\n- vroom         [1.6.7]\n- waldo         [0.6.2]\n- withr         [3.0.2]\n- xml2          [1.5.1]\nThese packages will be installed into \"~/work/MEE-WS25-26/MEE-WS25-26/renv/library/R-4.2/x86_64-pc-linux-gnu\".\n\nThe following required system packages are not installed:\n- cmake       [required by arrow]\n- libx11-dev  [required by clipr]\n- pandoc      [required by reprex]\nThe R packages depending on these system packages may fail to install.\n\nAn administrator can install these packages with:\n- sudo apt install cmake libx11-dev pandoc\n\n# Installing packages --------------------------------------------------------\n- Installing backports ...                      OK [built from source and cached in 1.7s]\n- Installing generics ...                       OK [built from source and cached in 1.3s]\n- Installing magrittr ...                       OK [built from source and cached in 1.4s]\n- Installing utf8 ...                           OK [built from source and cached in 9.3s]\n- Installing vctrs ...                          OK [built from source and cached in 16s]\n- Installing pillar ...                         OK [built from source and cached in 3.8s]\n- Installing pkgconfig ...                      OK [built from source and cached in 1.1s]\n- Installing tibble ...                         OK [built from source and cached in 3.6s]\n- Installing withr ...                          OK [built from source and cached in 1.6s]\n- Installing tidyselect ...                     OK [built from source and cached in 2.3s]\n- Installing dplyr ...                          OK [built from source and cached in 10s]\n- Installing purrr ...                          OK [built from source and cached in 3.8s]\n- Installing stringi ...                        OK [built from source and cached in 53s]\n- Installing stringr ...                        OK [built from source and cached in 2.5s]\n- Installing cpp11 ...                          OK [built from source and cached in 1.3s]\n- Installing tidyr ...                          OK [built from source and cached in 7.6s]\n- Installing broom ...                          OK [built from source and cached in 6.4s]\n- Installing conflicted ...                     OK [built from source and cached in 1.7s]\n- Installing blob ...                           OK [built from source and cached in 1.8s]\n- Installing DBI ...                            OK [built from source and cached in 3.8s]\n- Installing dbplyr ...                         OK [built from source and cached in 11s]\n- Installing data.table ...                     OK [built from source and cached in 23s]\n- Installing dtplyr ...                         OK [built from source and cached in 4.0s]\n- Installing forcats ...                        OK [built from source and cached in 2.2s]\n- Installing gtable ...                         OK [built from source and cached in 2.2s]\n- Installing isoband ...                        OK [built from source and cached in 7.1s]\n- Installing S7 ...                             OK [built from source and cached in 2.6s]\n- Installing farver ...                         OK [built from source and cached in 19s]\n- Installing labeling ...                       OK [built from source and cached in 1.3s]\n- Installing RColorBrewer ...                   OK [built from source and cached in 1.4s]\n- Installing viridisLite ...                    OK [built from source and cached in 1.1s]\n- Installing scales ...                         OK [built from source and cached in 4.8s]\n- Installing ggplot2 ...                        OK [built from source and cached in 19s]\n- Installing curl ...                           OK [built from source and cached in 3.5s]\n- Installing sys ...                            OK [built from source and cached in 1.4s]\n- Installing askpass ...                        OK [built from source and cached in 1.2s]\n- Installing openssl ...                        OK [built from source and cached in 5.0s]\n- Installing httr ...                           OK [built from source and cached in 3.5s]\n- Installing gargle ...                         OK [built from source and cached in 4.1s]\n- Installing uuid ...                           OK [built from source and cached in 3.9s]\n- Installing googledrive ...                    OK [built from source and cached in 3.6s]\n- Installing rematch ...                        OK [built from source and cached in 1.0s]\n- Installing cellranger ...                     OK [built from source and cached in 1.3s]\n- Installing ids ...                            OK [built from source and cached in 1.2s]\n- Installing rematch2 ...                       OK [built from source and cached in 2.0s]\n- Installing googlesheets4 ...                  OK [built from source and cached in 3.8s]\n- Installing hms ...                            OK [built from source and cached in 1.8s]\n- Installing clipr ...                          OK [built from source and cached in 1.1s]\n- Installing crayon ...                         OK [built from source and cached in 1.7s]\n- Installing bit ...                            OK [built from source and cached in 5.4s]\n- Installing bit64 ...                          OK [built from source and cached in 6.1s]\n- Installing tzdb ...                           OK [built from source and cached in 9.1s]\n- Installing prettyunits ...                    OK [built from source and cached in 1.3s]\n- Installing progress ...                       OK [built from source and cached in 1.9s]\n- Installing vroom ...                          OK [built from source and cached in 54s]\n- Installing readr ...                          OK [built from source and cached in 27s]\n- Installing haven ...                          OK [built from source and cached in 14s]\n- Installing timechange ...                     OK [built from source and cached in 13s]\n- Installing lubridate ...                      OK [built from source and cached in 5.5s]\n- Installing modelr ...                         OK [built from source and cached in 2.6s]\n- Installing systemfonts ...                    OK [built from source and cached in 23s]\n- Installing textshaping ...                    OK [built from source and cached in 11s]\n- Installing ragg ...                           OK [built from source and cached in 2.4m]\n- Installing readxl ...                         OK [built from source and cached in 12s]\n- Installing ps ...                             OK [built from source and cached in 4.3s]\n- Installing processx ...                       OK [built from source and cached in 4.2s]\n- Installing callr ...                          OK [built from source and cached in 3.5s]\n- Installing rstudioapi ...                     OK [built from source and cached in 1.6s]\n- Installing reprex ...                         OK [built from source and cached in 2.0s]\n- Installing selectr ...                        OK [built from source and cached in 7.0s]\n- Installing xml2 ...                           OK [built from source and cached in 5.9s]\n- Installing rvest ...                          OK [built from source and cached in 2.8s]\n- Installing tidyverse ...                      OK [built from source and cached in 3.6s]\n- Installing lazyeval ...                       OK [built from source and cached in 1.6s]\n- Installing rex ...                            OK [built from source and cached in 1.3s]\n- Installing covr ...                           OK [built from source and cached in 2.4s]\n- Installing assertthat ...                     OK [built from source and cached in 1.2s]\n- Installing arrow ...                          OK [built from source and cached in 3.1m]\n- Installing feather ...                        OK [built from source and cached in 2.4s]\n- Installing mockr ...                          OK [built from source and cached in 1.4s]\n- Installing brio ...                           OK [built from source and cached in 1.5s]\n- Installing desc ...                           OK [built from source and cached in 2.4s]\n- Installing pkgbuild ...                       OK [built from source and cached in 2.3s]\n- Installing rprojroot ...                      OK [built from source and cached in 1.4s]\n- Installing pkgload ...                        OK [built from source and cached in 2.8s]\n- Installing praise ...                         OK [built from source and cached in 1.0s]\n- Installing diffobj ...                        OK [built from source and cached in 7.0s]\n- Installing waldo ...                          OK [built from source and cached in 2.2s]\n- Installing testthat ...                       OK [built from source and cached in 24s]\nSuccessfully installed 89 packages in 15 minutes.\n(Remember, you can just add the answers into this document for future reference!)",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#what-is-the-tidyverse",
    "href": "tidyverse.html#what-is-the-tidyverse",
    "title": "4  Tidyverse",
    "section": "",
    "text": "A collection of R packages for data science\nAll packages share a “philosophy” about design and data structure\nAll packages are highly compatible and functions complement each other\n\n\n\n\n\nLet’s refresh what we learned earlier this week:\n\nWhat different types of data structures are used in R?\nWhich of these do you think is most likely to be used in the tidyverse?",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#our-data-set-for-today",
    "href": "tidyverse.html#our-data-set-for-today",
    "title": "4  Tidyverse",
    "section": "4.2 Our data set for today",
    "text": "4.2 Our data set for today\nWe will be looking at a data set of ecological traits of european butterflies. Download the table and read it into R.\n\n# The table contains headers, and the fields are separated by commas\nbe &lt;-  read.table(\"data/butterfly_ecology.csv\", header = TRUE, sep = \",\")\n\n# Let's have a glimpse at the data \nhead(be)\n\n\n  \n\n\n\nEach of the rows contains data for 1 European species, and the columns contain the following information:\n\n\n\n\n\n\n\n\n\nTrait abbreviation\nMeaning\nStates\nNotes\n\n\n\n\nOWS\nOverwintering stage\negg, larvae, pupae, adult\n\n\n\nGEN\nGenerations\naverage, min, max, range\n\n\n\nWSP\nWingspan\naverage, range\nMeasured in mm\n\n\nHSI\nHostplant index\nN/A\nMeasured from 0-1\n\n\nLEV\nLarval environment\nburied, ground layer, field layer, shrub layer, canopy layer\n\n\n\nELT\nEgg laying type\nsingle, small batch, large batch\n\n\n\nALT\nAltitude\nmin, range\n\n\n\nFM\nFlight months\naverage, range\n\n\n\nAFB\nAdult feeding behaviour\nherb flower, grass, shrub flower, honeydew, sap, animal, mineral\n\n\n\n\nNow that we are familiar with the dataset, lets look at some tidyverse functions.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#filter-for-filtering-data-frames",
    "href": "tidyverse.html#filter-for-filtering-data-frames",
    "title": "4  Tidyverse",
    "section": "4.3 filter() for filtering data frames",
    "text": "4.3 filter() for filtering data frames\nAs the name suggests, this is used to filter data frames, with a simple and efficient syntax:\n\n# first, we have to load the tidyverse packages\nlibrary(tidyverse, quietly = TRUE)\n\n# the command always takes a dataframe as first argument, and a filtering criterion as second argument\n# Here, we only look butterflies that overwinter as eggs\nfilter(be, OWS_egg == 1)\n\n\n  \n\n\n\nThe filtering criterion can be specified using the methods you are already familiar with (e.g., &gt;, &gt;=, !=, %in%).\nNotice that the variable names can be used directly here, so instead of using be$OWS_egg, filter() lets you use OWS_egg directly. All tidyverse functions work like that. Let’s look at more complex filtering:\n\n# combine 2 filters with boolean \"AND\" ...\nfilter(be, OWS_egg == 1 , ALT_Min &gt; 500)\n\n\n  \n\n\n# ... or boolean \"OR\"\nfilter(be, OWS_egg == 1 | AFB_honeydew == 1)\n\n\n  \n\n\n\n\nNOTE\nfilter() (and many other tidyverse functions) return a data frame. In the tidyverse, these are called tibble() and behave slightly different to regular data frames. For our purposes however, these differences are not important.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#the-pipe-for-combining-commands",
    "href": "tidyverse.html#the-pipe-for-combining-commands",
    "title": "4  Tidyverse",
    "section": "4.4 The pipe %>% for combining commands",
    "text": "4.4 The pipe %&gt;% for combining commands\nThe filtering using filter() is very useful, but you can see that the commands can become very long when you have many filters. Also, trying out many different filters to see what they do with the data can be cumbersome. This where %&gt;% comes in really handy.\nThe “pipe” %&gt;% (keyboard shortcut: Ctrl+Shift+M) simply passes the result of one function to the next function. For the next function, one does not have to specify the data frame. Let’s see an example.\n\n# this is how we filtered our data frame earlier \nfilter(be, OWS_egg == 1)\n\n\n  \n\n\n# same command, this time using the pipe\nbe %&gt;% \n  filter(OWS_egg == 1)\n\n\n  \n\n\n\nNote how in the second command, the output of be (which is our data frame) gets passed on to the filter() command. There, you don’t have to specify the name of the data frame again. The result of this can be piped further to other commands:\n\n# Multiple filters are connected by pipes\nbe %&gt;% \n  filter(OWS_egg == 1) %&gt;% \n  filter(LEV_ground_layer == 1) %&gt;% \n  filter(AFB_honeydew == 1)\n\n\n  \n\n\n# As always in R, assign the result to a new variable using \"&lt;-\" \nbe_filtered &lt;- be %&gt;% \n  filter(OWS_egg == 1) %&gt;% \n  filter(LEV_ground_layer == 1) %&gt;% \n  filter(AFB_honeydew == 1)\n\nNote how easy this command is to read (you could write it in a single line, but it’s much easier to follow with line breaks)! The usefulness of the pipe will become more obvious when we combine multiple different commands. In all the following examples, I will always use the pipe.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#sort-by-column-with-arrange",
    "href": "tidyverse.html#sort-by-column-with-arrange",
    "title": "4  Tidyverse",
    "section": "4.5 Sort by column with arrange()",
    "text": "4.5 Sort by column with arrange()\nThis doesn’t change the dataframe itself, it simply orders the columns (similar to the sort function in Excel):\n\n# sort by age (ascending) and weight (descending)\nbe %&gt;% \n  arrange(conserv.eu, -range.size)",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#select-columns-with-select",
    "href": "tidyverse.html#select-columns-with-select",
    "title": "4  Tidyverse",
    "section": "4.6 Select columns with select()",
    "text": "4.6 Select columns with select()\n\n# choose which columns to keep\nbe %&gt;% \n  select(species, range.size, conserv.eu, FM_Average, WSP_Female_average)\n\n\n  \n\n\n# or specify which columns to remove\nbe %&gt;% \n  select(-(OWS_egg:OWS_adult))\n\n\n  \n\n\n# contains is another useful command to select columns. \nbe %&gt;% \n  select(species, contains(\"LEV\")) %&gt;% \n  drop_na()\n\n\n  \n\n\n\nFuntions like contains can be powerful for filtering and selecting. starts_with and ends_with work just the same way and are equally useful.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#create-new-variables-with-mutate",
    "href": "tidyverse.html#create-new-variables-with-mutate",
    "title": "4  Tidyverse",
    "section": "4.7 Create new variables with mutate()",
    "text": "4.7 Create new variables with mutate()\nThis is a very powerful and flexible function that uses existing variables to create novel ones. Let’s look at a simple example\n\n# Create a new variable summarizing all the overwintering stages that are not adults\nbe %&gt;% \n  mutate(OWS_juvenile = 1-OWS_adult) %&gt;% \n  select(OWS_juvenile, OWS_adult) %&gt;% \n  drop_na()\n\n\n  \n\n\n# Determine how different the protection levels between EU and Europe and extract the species for which the difference is striking\nbe %&gt;% \n  mutate(protect_diff = abs(conserv.europe - conserv.eu)) %&gt;% \n  filter(protect_diff &gt; 2)",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#exercise",
    "href": "tidyverse.html#exercise",
    "title": "4  Tidyverse",
    "section": "4.8 Exercise",
    "text": "4.8 Exercise\n\nFrom our dataset, filter out all butterflies with average wingspans larger than 60mm and smaller than 30mm. Only keep the species that have a conservation classification on the EU level. Only keep the species names and all variables associated with adult feeding, and store this in a new data frame. How many rows and columns does the new data frame have?\nRe-calculate the generation range from the provided minima and maxima. Check if your calculations match the original range values given in the data.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#group_by-and-summarise-as-powerful-data-exploration-tools",
    "href": "tidyverse.html#group_by-and-summarise-as-powerful-data-exploration-tools",
    "title": "4  Tidyverse",
    "section": "4.9 group_by() and summarise() as powerful data exploration tools",
    "text": "4.9 group_by() and summarise() as powerful data exploration tools\nAlthough dplyr has a simpler syntax overall, everything we have looked at so far could have been done fairly easily with base R functions: data frame filtering, sorting, and adding and removing columns. One of the strengths of dplyr is explorative data analysis, and this is where group_by() and summarize() are really helpful. We’ll only look at very simple examples today.\nWhen browsing through the complete data table, it is very hard to recognize any patterns. Let’s assume we wanted to compare the average wing span of butterflies with that overwinter as adults vs all other butterflies:\n\n# Are butterflies that overwinter as adults larger than other species?\nbe %&gt;% \n  drop_na() %&gt;% \n  group_by(OWS_adult) %&gt;% \n  summarise(mean_wsp = mean(WSP_Female_average))\n\n\n  \n\n\n\nAfter choosing which variable to group by (here: OWS_adult), summarise() then calculates a function for each group. In our simple example, there are 2 groups: 0 (not overwintering as adult) and 1 (overwintering as adult); and the function to be calculated is the mean of the female wing span. This is a very flexible set of functions, because you can group by multiple groups and also use summarise() with many different functions (e.g., mean(), sum(), min(), max(), median() – just to name a few). Let’s look at a more complex example:\n\n# Let's add another group. How large is the standard deviation? How large is each group?\nbe %&gt;% \n  drop_na() %&gt;% \n  group_by(OWS_adult, LEV_ground_layer) %&gt;% \n  summarise(mean_wsp = mean(WSP_Female_average),\n            sd = sd(WSP_Female_average),\n            group_size=n())\n\n`summarise()` has grouped output by 'OWS_adult'. You can override using the\n`.groups` argument.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "tidyverse.html#more-exercises",
    "href": "tidyverse.html#more-exercises",
    "title": "4  Tidyverse",
    "section": "4.10 More exercises",
    "text": "4.10 More exercises\nUsing dplyr functions, determine\n\nIf butterflies overwintering as pupae have higher level of legal protection\nIf butterflies occuring at higher altitudes on average have a higher level of protection\nIf feeding on honeydew is more common in larger butterflies.\nHow many butterfly species are there per family?\n\nFor a–c also determine how many species belong to each group.",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "ggplot.html",
    "href": "ggplot.html",
    "title": "5  The ggplot2 package",
    "section": "",
    "text": "5.1 Very (!) brief introduction\nggplot2 is a graphing library, i.e., a tool to make graphs in R. Compared with base graphs and other graphics packages, it comes with a number of advantages:\nCompared with other packages the major drawbacks would be that it comes with a steep(ish) learning curve and is probably less intuitive for beginners. The reason is that ggplot2 doesn’t have fixed commands for scatterplots, boxplots, barplots, etc, but rather creates the plot in layers. The most important elements (or layers) of a plot in ggplot2 are:",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#very-brief-introduction",
    "href": "ggplot.html#very-brief-introduction",
    "title": "5  The ggplot2 package",
    "section": "",
    "text": "Beautiful!\nHighly customizable (which is not always necessary though)\nEasiest way to create very complex plots\nTightly integrated into the tidyverse\n\n\n\nData: as we are still in the tidyverse, this is always a data frame\nAesthetics: i.e., what you want to plot. Often, this will correpond to variables (columns) in your dataframe\nGeometric objects: i.e., how you want to plot the data. This can be points, bars, boxplots, lines, etc..\nFacets: more about this later\nAdditional (optional) adjustments: this includes themes that specify the overall design",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#building-up-the-plot",
    "href": "ggplot.html#building-up-the-plot",
    "title": "5  The ggplot2 package",
    "section": "5.2 Building up the plot",
    "text": "5.2 Building up the plot\nWe will start off with a very simple scatterplot and gradually increase the complexity to illustrate ggplot2 functionality.\n\n# data and packages\nlibrary(tidyverse, quietly = TRUE)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.2\n✔ purrr     1.2.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nbe &lt;-  read.table(\"data/butterfly_ecology.csv\", header = TRUE, sep = \",\")\n\n# simple plot\nbe %&gt;%                                # DATA\n  ggplot(aes(x = WSP_Female_average,  # AESTHETICS\n             y = range.size))   \n\n\n\n\n\n\n\n\nIn the above example, the data is the data frame that we have been using the whole time. Notice how we can simply pipe it to ggplot2. aes specifies our aesthetics, i.e., what we want to plot. What is missing?\n\n# simple scatter plot\nbe %&gt;%                               # DATA\n  ggplot(aes(x = WSP_Female_average, # Aesthetics\n             y = range.size)) +\n  geom_point()                       # Geometric object\n\n\n\n\n\n\n\n\nThe geometric object, i.e., how we want to plot our aesthetics. Notice that elements in ggplot2 are added with the + symbol (this is specific to ggplot2). We can add more geometric objects that will use the same aesthetics:\n\n# lets add another geom (a regression line), and also change the theme\nbe %&gt;%                               # DATA\n  ggplot(aes(x = WSP_Female_average, # Aesthetics\n             y = range.size)) +\n  geom_point() +                     # Geometric object\n  geom_smooth(method = \"lm\") +       # Another geometric object\n  theme_light()                      # Let's also change the theme\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\nChanging the theme changes many layout options. For different applications, different themes might be appropriate. There are many additional themes available through packages such as ggthemr or ggthemes.\nA bit more on aesthetics: have you noticed that you only specify x and y once, and all geoms know what you want to plot. You can also specify additional aesthetics for each geom.\n\n# Add additional aesthetics, here: we want to plot the sonservation status. How? With colour! \n\nbe %&gt;%                                   # DATA\n  ggplot(aes(x = WSP_Female_average,     # Aesthetics\n             y = range.size)) +\n  geom_point(aes(color = conserv.eu)) +  # aesthetics specific to the points only\n  geom_smooth(method = \"lm\",\n              color = \"black\",\n              se = FALSE) +              \n  theme_light() +\n  scale_color_viridis_c()                # let's use some nicer colors                         \n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\n\nAesthetics can be added through colors or shapes",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#faceting",
    "href": "ggplot.html#faceting",
    "title": "5  The ggplot2 package",
    "section": "5.3 Faceting",
    "text": "5.3 Faceting\nSo far, we have cramped as much information as possible into the plot. This was useful to illustrate the functionality of ggplot2, but did not create very readable plots. Often, faceting is a better solution. The implementation in ggplot2 is very straightforward.\n\n# Same example as before, faceted over family\nbe %&gt;%                                   \n  ggplot(aes(x = WSP_Female_average,     \n             y = range.size)) +\n  geom_point(aes(color = conserv.eu)) + \n  geom_smooth(method = \"lm\",\n              color = \"black\",\n              se = FALSE) +              \n  theme_light() +\n  scale_color_viridis_c() +                \n  facet_wrap(~family, scales = \"free\")   \n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n# And now, faceting over 2 variables\nbe %&gt;%   \n  ggplot(aes(x = WSP_Female_average,     \n             y = range.size)) +\n  geom_point(aes(color = conserv.eu)) +  \n  geom_smooth(method = \"lm\",\n              color = \"black\",\n              se = FALSE) +              \n  theme_light() +\n  scale_color_viridis_c() +                \n  facet_grid(OWS_egg ~ family, scales = \"free\") # faceting\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\n\nThe above plot would need a little ‘cleaning up’. How would you do that?",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#some-common-plot-types",
    "href": "ggplot.html#some-common-plot-types",
    "title": "5  The ggplot2 package",
    "section": "5.4 Some common plot types",
    "text": "5.4 Some common plot types\nWe have looked at scatterplots, now let’s look at a number of other commonly used plots.\n\n# histograms\nbe %&gt;% \n  ggplot(aes(x = WSP_Female_average, fill = family)) +\n  geom_histogram(bins = 50) +\n  theme_light() +\n  scale_fill_brewer(palette = \"Set1\")\n\n\n\n\n\n\n\n# better alternative are often density plots\nbe %&gt;% \n  ggplot(aes(x = WSP_Female_average, fill = family)) +\n  geom_density(alpha = 0.5, colour = NA) +\n  theme_light() +\n  scale_fill_brewer(palette = \"Set1\") \n\n\n\n\n\n\n\n# boxplots\nbe %&gt;% \n  ggplot(aes(y = WSP_Female_average, x = family)) +\n  geom_boxplot() +\n  theme_light() \n\n\n\n\n\n\n\n# better alternative are violin plots\nbe %&gt;% \n  ggplot(aes(y = WSP_Female_average, x = family)) +\n  geom_violin(draw_quantiles = c(0.25, 0.5, 0.75)) +\n  theme_light()",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#fine-tuning-plots",
    "href": "ggplot.html#fine-tuning-plots",
    "title": "5  The ggplot2 package",
    "section": "5.5 Fine tuning plots",
    "text": "5.5 Fine tuning plots\nWe now know how to plot some common chart types but most of these don’t look publishable yet. Lets return to one of our first examples and see how to polish it a little.\n\n# A publication ready plot\nbe %&gt;% \n  filter(family != \"Riodinidae\") %&gt;%\n  ggplot(aes(y = WSP_Female_average, x = family, color = family)) +\n  geom_boxplot(lwd = 1, outlier.shape = NA) +\n  geom_point(position = position_jitterdodge(jitter.width = 2), alpha = 0.5) +\n  theme_light() +\n  labs(title = \"Wing span across European butterfly families\",\n       y = \"Average wing span of female\")+ \n  theme(plot.title = element_text(face = \"bold\"),\n        axis.title.y = element_text(size = 12),\n        axis.title.x = element_blank(),\n        axis.text.x = element_blank(),\n        strip.text = element_text(size = 11)) +\n  scale_color_brewer(palette = \"Set1\", name = \"Family\")",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  },
  {
    "objectID": "ggplot.html#exercise",
    "href": "ggplot.html#exercise",
    "title": "5  The ggplot2 package",
    "section": "5.6 Exercise",
    "text": "5.6 Exercise\nUsing ggplot2, explore how range size differs between butterfly families and plot check if butterflies with smaller ranges have higher protection status. Try to find appropriate plot types for this, use the help pages to find plot types that were not introduced to you yet. Explore other variables that may explain some trends in the data. Find a theme that you like! Remember, start with the data, add aesthetics (what do you want to plot), and then think about geometric objects (how do you want to plot the data). How can colour help in your visualisations? Does faceting make sense?",
    "crumbs": [
      "`R`",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>The `ggplot2` package</span>"
    ]
  }
]